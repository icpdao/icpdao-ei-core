import json

import os

from logic.kuhn_munkres import KuhnMunkres


def test_first():
    data_1 = [
        [-1,  2, 3,  4, -1,  6,  7,  8],
        [-1, -1, 3,  4,  5, -1,  7,  8],
        [-1, -1,-1,  4,  5,  6, -1,  8],
        [-1, -1,-1, -1,  5,  6,  7, -1],
        [-1, -1,-1, -1, -1,  6,  7,  8],
        [-1, -1,-1, -1, -1, -1,  7,  8],
        [-1, -1,-1, -1, -1, -1, -1,  8],
        [-1, -1,-1, -1, -1, -1, -1, -1]
    ]

    km = KuhnMunkres(data_1)
    km.run()
    # print(km.match)
    # [(0, 1), (1, 2), (2, 3), (3, 4), (4, 5), (5, 6), (6, 7), (7, 0)]
    assert km.match == [(0, 1), (1, 2), (2, 3), (3, 4), (4, 5), (5, 6), (6, 7), (7, 0)]

    for item in km.match:
        value = data_1[item[0]][item[1]]
        if value > 0:
            print(item)
    # (1, 2)
    # (2, 3)
    # (3, 4)
    # (4, 5)
    # (5, 6)
    # (6, 7)
    # 1 1
    # 2 2
    # 3 2
    # 4 2
    # 5 2
    # 6 2
    # 7 1
    data_2 = [
        [-1, -2, 3,  4, -1,  6,  7,  8],
        [-1, -1,-2,  4,  5, -1,  7,  8],
        [-1, -1,-1, -2,  5,  6, -1,  8],
        [-1, -1,-1, -1, -1,  6,  7, -1],
        [-1, -1,-1, -1, -1, -1,  7,  8],
        [-1, -1,-1, -1, -1, -1, -1,  8],
        [-1, -1,-1, -1, -1, -1, -1, -1],
        [-2, -1,-1, -1, -1, -1, -1, -1]
    ]

    km = KuhnMunkres(data_1)
    km.run()

    for item in km.match:
        value = data_1[item[0]][item[1]]
        if value > 0:
            print(item)